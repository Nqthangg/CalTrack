{% extends "base.html" %}

{% block head %}
<title>Profile</title>
<link rel="stylesheet" href="{{ url_for('static', filename='profile-styles.css') }}">
{% endblock %}

{% block content %}
<!-- Profile-specific background decorations -->
<div class="profile-background">
    <div class="profile-decoration"></div>
    <div class="profile-decoration"></div>
    <div class="profile-decoration"></div>
</div>

<div class="profile-container">
    <!-- Left Section: Current Profile Info -->
    <div class="profile-info">
        <div class="avatar-section">
            <img src="{{ url_for('static', filename='avatar.png') }}" alt="Avatar" class="avatar">
            <div class="basic-info">
                <p><i class="fas fa-user"></i> <strong>abcdef</strong></p>
                <p><i class="fas fa-envelope"></i> <strong>Email:</strong> example@gmail.com</p>
                <p><i class="fas fa-map-marker-alt"></i> <strong>Address:</strong> 1234, Abc Street, Def City</p>
                <p><i class="fas fa-phone"></i> <strong>Contact:</strong> +1234567890</p>
            </div>
        </div>

        <div class="profile-item">
            <i class="fas fa-ruler-vertical"></i>
            <p><strong> Height:</strong> <span id="profile-height">{{ user_info[1] }}</span> cm</p>
        </div>
        <div class="profile-item">
            <i class="fas fa-weight"></i>
            <p><strong> Weight:</strong> <span id="profile-weight">{{ user_info[2] }}</span> kg</p>
        </div>
        <div class="profile-item">
            <i class="fas fa-birthday-cake"></i>
            <p><strong> Age:</strong> <span id="profile-age" >{{ user_info[3] }}</span> years</p>
        </div>
        <div class="profile-item">
            <i class="fas fa-venus-mars"></i>
            <p><strong> Gender:</strong> <span id="profile-gender">{{ user_info[4] }}</span></p>
        </div>
        <div class="profile-item">
            <i class="fas fa-running"></i>
            <p><strong> Activity Level:</strong> <span id="profile-activity">{{ user_info[5] }}</span></p>
        </div>
        <div class="profile-item">
            <i class="fas fa-heartbeat"></i>
            <p><strong>BMI:</strong> <span id="display-bmi">{{ user_info.bmi|default(bmi) }}</span></p>
        </div>
    </div>
    
    <!-- Right Section: Edit Profile Form -->
    <div class="profile-edit">
        <h2>Update Profile</h2>
        <form id="updateProfileForm">
            <div class="status-message"></div>

            <label for="height"><i class="fas fa-ruler-vertical"></i> Height (cm):</label>
            <input type="text" id="height" name="height" placeholder="Enter height" required><br><br>

            <label for="weight"><i class="fas fa-weight"></i> Weight (kg):</label>
            <input type="text" id="weight" name="weight" placeholder="Enter weight" required><br><br>

            <label for="age"><i class="fas fa-birthday-cake"></i> Age:</label>
            <input type="text" id="age" name="age" placeholder="Enter age" required><br><br>

            <label for="gender"><i class="fas fa-venus-mars"></i> Gender:</label>
            <select name="gender" id="gender" required>
                <option value="Male" {% if user_info[4] == 'Male' %}selected{% endif %}>Male</option>
                <option value="Female" {% if user_info[4] == 'Female' %}selected{% endif %}>Female</option>
            </select><br><br>

            <label for="activity_level"><i class="fas fa-running"></i> Activity Level:</label>
            <select name="activity_level" id="activity_level" required>
                <option value="Sedentary" {% if user_info[5] == 'Sedentary' %}selected{% endif %}>Sedentary (little or no exercise)</option>
                <option value="Lightly Active" {% if user_info[5] == 'LightlyActive' %}selected{% endif %}>Lightly active (exercise 1-3 days/week)</option>
                <option value="Moderately Active" {% if user_info[5] == 'ModeratelyActive' %}selected{% endif %}>Moderately active (exercise 3-5 days/week)</option>
                <option value="Very Active" {% if user_info[5] == 'VeryActive' %}selected{% endif %}>Very active (exercise 6-7 days/week)</option>
                <option value="Extra Active" {% if user_info[5] == 'ExtraActive' %}selected{% endif %}>Extra active (very hard exercise & physical job)</option>
            </select><br><br>

            <button type="submit" class="submit-btn">Update Profile</button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='script.js') }}"></script>
<script src="{{ url_for('static', filename='profile-animation.js') }}"></script>
{% endblock %}
